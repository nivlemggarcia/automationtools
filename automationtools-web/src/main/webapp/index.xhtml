<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">

<h:body>

	<ui:composition template="/WEB-INF/layout/default-layout.xhtml">
		<ui:param name="pageTitle" value="#{msg['manage.title']}" />
		<ui:param name="toggleOpenTip" value="#{msg['label.minimize']}" />
		<ui:param name="toggleCloseTip" value="#{msg['label.restore']}" />
		<ui:param name="resizeTip" value="#{msg['label.resize']}" />
		<ui:param name="headerInitSize" value="55" />
		<ui:param name="footerInitSize" value="20" />
		<ui:param name="enableFooter" value="true" />
		<ui:param name="leftInitSize" value="32%" />
		<ui:param name="leftMinSize" value="32%" />
		<ui:param name="enableLeft" value="true" />
		<ui:param name="enableRight" value="true" />
		<ui:param name="rightInitHidden" value="true" />
		<ui:param name="rightInitSize" value="25%" />
		<ui:param name="rightMinSize" value="25%" />

		<ui:define name="header">
			<ui:include src="/WEB-INF/sections/header.xhtml" />

			<h:outputStylesheet library="common" name="css/common.css" />
			<style type="text/css">
				.ui-table-icon img {
					max-width: 11px;
					max-height: 11px;
					width: auto;
					height: auto;
					margin-right: 3px;
				}
				
				.add-properties-grid {
					width: auto !important;
					table-layout: auto !important;
				}
				
				.ui-datatable tbody td {
					padding: 2px 2px 2px 2px;
					vertical-align: middle;
				}
				
				.ui-datatable thead th {
					height: 24px;
					padding: 2px 4px 2px 2px;
				}
				
				.ui-datatable .ui-column-filter {
					display: inline;
					margin-left: 5px;
				}
				
				.ui-column-filter {
					display: none !important;
					visibility: hidden;
				}
				
				.ui-panelgrid-content {
					background-color: transparent !important;
					border: 0px none !important;
				}
				
				#form:allTemplatesTable>div.ui-widget-header { border: none !important; }
				
				.add-properties-grid tr, 
				.add-properties-grid td { border: 0 !important; background: transparent !important; }
				.ui-panelgrid>*>tr, 
				.ui-panelgrid .ui-panelgrid-cell { border: none !important; }
				
				.ui-datatable-header { padding: 0 !important; }
				.ui-datatable-footer { padding: 0 !important; }
				.ui-panel .ui-panel-content { padding: 0.2em 0em !important; }
				.ui-tree { width: auto !important; }
				.ui-panelgrid .ui-panelgrid-cell { padding: 0px; }
				.ui-tabs .ui-tabs-panel { padding: 0.1em 0.1em !important; }
				.ui-accordion-content { padding: 0px !important; }
				.info-panel-left { width: 50px; }
				.info-panel-right { width: auto; }
				.ui-table-icon { padding-left: 5px; }
				.no-overflow div { overflow: hidden; }
			</style>
		</ui:define>

		<ui:define name="footer">
			<ui:include src="/WEB-INF/sections/footer.xhtml">
				<ui:param name="height" value="20px" />
			</ui:include>
		</ui:define>

		<ui:define name="center">
			<h:panelGroup id="detailPanel" style="width: auto;" layout="block">
				<ui:include src="/WEB-INF/sections/null-section.xhtml">
					<ui:param name="emptyMessage" value="#{msg['label.noneselected']}" />
					<ui:param name="height" value="554px" />
				</ui:include>
			</h:panelGroup>
		</ui:define>

		<ui:define name="left">
			<p:growl id="message" showDetail="true" />
			
			<h:form id="preRenderForm" >
				<p:remoteCommand actionListener="#{task.doSomething()}" autoRun="true" process="@this" immediate="true"
					onstart="PF('blockLeft').block();" oncomplete="PF('blockLeft').unblock();"/>
			</h:form>

			<h:panelGroup style="width: 100%;" layout="block" >
				<p:panel id="testMenuPanel" style="border: 0px;" layout="block" header="#{msg['manage.testmenupanel.header']}" >
					
					<h:form id="form">
						<f:ajax render=":detailPanel">
							<p:dataTable id="allTemplatesTable" widgetVar="allTemplatesTable" emptyMessage="#{msg['manage.alltemplatestable.emptymessage']}"
								scrollable="true" scrollHeight="460" selectionMode="single" >
								
								<f:facet name="header">
									<p:toolbar id="toolbarMenu" style="margin-left: 2px; padding: 0.2em; border: 0px none;">
										<f:facet name="left">

											<p:commandButton id="deletebtn" widgetVar="deletebtn" title="#{msg['label.delete']}" icon="ui-icon-trash"
												oncomplete="PF('layoutWidget').close('east');">
												
												<p:confirm header="#{msg['label.deleteconfirmation']}" message="#{msg['label.areyousure']}" icon="ui-icon-alert" />
												<p:confirmDialog global="true" showEffect="fade" hideEffect="fade" closeOnEscape="true">
													<p:commandButton value="#{msg['label.yes']}" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
													<p:commandButton value="#{msg['label.cancel']}" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
												</p:confirmDialog>
											</p:commandButton>

											<p:commandButton id="importmenuoption" title="#{msg['label.import']}" icon="fa fa-fw fa-upload" onclick="PF('uploadFileDialog').show()" />

											<p:commandButton id="exportmenuoption" title="#{msg['label.export']}" icon="fa fa-fw fa-download"/>
										</f:facet>

										<f:facet name="right">
											<p:inputText id="globalFilter" onkeyup="PF('allTemplatesTable').filter()" style="width: 150px; margin-right: 3px;" 
												placeholder="#{msg['label.search']}" />
											<p:commandButton id="reloadbtn" widgetVar="reloadbtn" title="#{msg['label.reload']}" icon="fa fa-fw fa-refresh"
												onstart="PF('blockAll').block()" oncomplete="PF('blockAll').unblock()"
												update=":form:allTemplatesTable :detailPanel :templateInfo" />
										</f:facet>

									</p:toolbar>
								</f:facet>

								<p:ajax event="rowSelect" update=":form:allTemplatesTable:toolbarMenu :detailPanel :templateInfo"
									onstart="PF('blockAll').block()" oncomplete="PF('blockAll').unblock()" />
									
								<p:column id="testnamecolumn" headerText="#{msg['app.namecolumn.headertext']}" styleClass="middleAlignment ellipsis">
									<h:outputText value="VALUE" title="NAME" />
								</p:column>

							</p:dataTable>
						</f:ajax>
					</h:form>
					
				</p:panel>
			</h:panelGroup>

			<!-- Upload Test File Dialog: This dialog is for uploading tests files -->
			<p:dialog id="uploadFileDialog" widgetVar="uploadFileDialog" header="#{msg['manage.uploadfiledialog.header']}" modal="true"
					showEffect="fade" hideEffect="fade" appendTo="@(body)" closeOnEscape="true">
				<h:form id="uploadDialogForm" enctype="multipart/form-data">
					<p:fileUpload multiple="true" mode="advanced" style="max-height: 500px;"
							uploadLabel="#{msg['label.import']}" cancelLabel="#{msg['label.cancel']}"
							oncomplete="PF('layoutWidget').close('east');"
							update="message :form :templateInfo" />
				</h:form>
			</p:dialog>
		</ui:define>

		<ui:define name="right">
			<h:panelGroup id="templateInfo" style="width: auto;" layout="block">
				<!-- 
				<ui:include src="/WEB-INF/sections/null-section.xhtml">
					<ui:param name="emptyMessage" value="#{msg['label.noneselected']}" />
					<ui:param name="height" value="554px" />
				</ui:include>
				 -->
			</h:panelGroup>
		</ui:define>

	</ui:composition>

</h:body>

</html>
